{% extends "base.html" %}
{% block title %}Habits — Habit Competition{% endblock %}
{% block content %}
<div class="flex items-center justify-between mb-4">
    <h1 class="text-2xl font-semibold">Habits</h1>
    <a href="{% url 'habits:create' %}" class="px-3 py-2 rounded bg-black text-white text-sm">Create habit</a>
</div>

{% if habits %}
<ul class="grid md:grid-cols-2 gap-4">
    {% for h in habits %}
    <li class="bg-white border rounded p-4">
        <a class="text-lg font-semibold hover:underline" href="{% url 'habits:detail' h.pk %}">{{ h.title }}</a>
        <p class="text-sm text-gray-600 mt-1">{{ h.get_frequency_display }} · max/day: {{ h.max_per_day }}</p>
        {% if h.description %}
        <p class="text-sm mt-2 line-clamp-3">{{ h.description }}</p>
        {% endif %}
        <div class="mt-3 text-sm">
            <a class="underline mr-3" href="{% url 'habits:edit' h.pk %}">Edit</a>
            <a class="underline text-red-600" href="{% url 'habits:delete' h.pk %}">Delete</a>
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No habits yet.</p>
{% endif %}
{% endblock %}
